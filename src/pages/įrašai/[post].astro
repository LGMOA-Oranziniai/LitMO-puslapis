---
import DefaultLayout from '@layouts/DefaultLayout.astro'
import PageHeader from '@components/PageHeader.astro'
import { getCollection, type CollectionEntry, render } from 'astro:content'

export async function getStaticPaths() {
  const entries = await getCollection('irasai')
  return entries.map((entry) => ({
  params: { post: entry.id.replace(/\.mdx?$/i, '') },
    props: { entry },
  }))
}

interface Props {
  entry: CollectionEntry<'irasai'>
}

const { entry } = Astro.props as Props
const slug = entry.id.replace(/\.mdx?$/i, '')
const { Content: Body } = await render(entry)
---

<DefaultLayout title={entry.data.title} description={entry.data.description} url={'/įrašai/' + slug}>
  <PageHeader title={entry.data.title} subtitle={entry.data.description} bgType="bordered" />
  <section class="my-12">
    <div class="narrow container">
  <Body />
    </div>
  </section>
</DefaultLayout>
